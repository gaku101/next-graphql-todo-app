(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(8045)}])},8045:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Y}});var r=t(5893),o=t(9008),i=t.n(o),u=t(8527),l=function(e){var n=e.children;return(0,r.jsx)(u.kC,{align:"center",justify:"space-between",wrap:"wrap",w:"100%",p:8,bg:"blue.400",color:"white",children:n})},c=function(){return(0,r.jsx)(l,{children:(0,r.jsx)(u.xv,{fontSize:24,fontWeight:"bold",children:"Todo App"})})},a=t(7294),d=t(3991),s=t(9609),f=t(1621),p=t(319),g=t(7887);function h(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){h(e,n,t[n])}))}return e}function m(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function y(){var e=m(["\n    mutation AddTodo($addTodoInput: AddTodoInput!) {\n  addTodo(addTodoInput: $addTodoInput) {\n    id\n    title\n    completed\n    createdAt\n  }\n}\n    "]);return y=function(){return e},e}function v(){var e=m(["\n    mutation DeleteTodo($id: ID!) {\n  deleteTodo(id: $id)\n}\n    "]);return v=function(){return e},e}function j(){var e=m(["\n    query GetTodos {\n  getTodos {\n    id\n    title\n    completed\n    createdAt\n  }\n}\n    "]);return j=function(){return e},e}function w(){var e=m(["\n    mutation ToggleTodo($toggleTodoInput: ToggleTodoInput!) {\n  toggleTodo(toggleTodoInput: $toggleTodoInput) {\n    id\n    title\n    completed\n    createdAt\n  }\n}\n    "]);return w=function(){return e},e}var x={},T=(0,f.Ps)(y());var O=(0,f.Ps)(v());var C=(0,f.Ps)(j());var A=(0,f.Ps)(w());var S={GetTodos:"GetTodos"},k=t(9876);function I(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function P(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function E(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],u=!0,l=!1;try{for(t=t.call(e);!(u=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);u=!0);}catch(c){l=!0,o=c}finally{try{u||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return I(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return I(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var z=function(e){var n=e.todo,t=(0,a.useState)(n),o=t[0],i=t[1],l=E(function(e){var n=b({},x,e);return p.D(A,n)}(),2),c=l[0],f=l[1],g=E(function(e){var n=b({},x,e);return p.D(O,n)}(),2),h=g[0],m=g[1],y=(0,a.useCallback)((function(){o&&(f.loading||c({variables:{toggleTodoInput:{id:o.id,completed:!o.completed}},onCompleted:function(){i(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){P(e,n,t[n])}))}return e}({},o,{completed:!o.completed}))}}))}),[f.loading,o,c]),v=(0,a.useCallback)((function(){o&&(m.loading||h({variables:{id:o.id},onCompleted:function(){return i(null)}}))}),[m,o,h]);return o?(0,r.jsxs)(u.Ug,{borderColor:"blue.300",borderWidth:1,p:8,w:"full",height:"16",justify:"space-between",spacing:8,children:[(0,r.jsxs)(u.Ug,{spacing:8,children:[(0,r.jsx)(d.XZ,{size:"lg",isChecked:o.completed,onChange:y}),(0,r.jsx)(u.xv,{textDecoration:o.completed?"line-through":void 0,color:o.completed?"gray.500":"black",children:o.title})]}),m.loading?(0,r.jsx)(s.$,{size:"md",thickness:"4px",emptyColor:"gray.200",color:"blue.500"}):(0,r.jsx)(k.pJ,{color:"blue.500",boxSize:5,_hover:{boxSize:6},onClick:v})]}):null},_=function(e){var n=e.todos;return(0,r.jsx)(u.gC,{w:"full",paddingX:8,children:n.map((function(e){return(0,r.jsx)(z,{todo:e},e.id)}))})},D=t(4612),L=t(5193);function $(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function M(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],u=!0,l=!1;try{for(t=t.call(e);!(u=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);u=!0);}catch(c){l=!0,o=c}finally{try{u||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return $(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N=function(){var e=(0,a.useState)(""),n=e[0],t=e[1],o=(0,a.useCallback)((function(){return t("")}),[]),i=M(function(e){var n=b({},x,e);return p.D(T,n)}(),2),l=i[0],c=i[1].loading,d=(0,a.useCallback)((function(){l({variables:{addTodoInput:{title:n}},refetchQueries:[S.GetTodos],onCompleted:o})}),[n,l,o]);return(0,r.jsxs)(u.Ug,{spacing:6,children:[(0,r.jsx)(D.II,{borderColor:"blue.500",borderWidth:2,height:12,width:400,value:n,onChange:function(e){return t(e.target.value)}}),(0,r.jsx)(L.zx,{paddingX:8,colorScheme:"blue",disabled:!n,isLoading:c,onClick:d,children:"Add Todo"})]})},X=function(e){var n=e.filter,t=e.setFilter;return(0,r.jsx)(u.Ug,{spacing:4,children:U.map((function(e){return(0,r.jsx)(L.zx,{colorScheme:n===e?"blue":void 0,color:n===e?"white":void 0,onClick:function(){return t(e)},children:e},e)}))})},U=["ALL","COMPLETED","NOT COMPLETED"],G=function(){var e=function(e){var n=b({},x,e);return g.a(C,n)}().data,n=(0,a.useState)("ALL"),t=n[0],o=n[1],i=(0,a.useMemo)((function(){if(!e)return[];switch(t){case"ALL":return e.getTodos;case"COMPLETED":return e.getTodos.filter((function(e){return e.completed}));case"NOT COMPLETED":return e.getTodos.filter((function(e){return!e.completed}))}}),[e,t]);return(0,r.jsxs)(u.gC,{w:"full",spacing:10,paddingX:48,paddingY:16,children:[(0,r.jsx)(N,{}),(0,r.jsx)(X,{filter:t,setFilter:o}),(0,r.jsx)(_,{todos:i})]})},q=t(8728),W=t(7446),F=t(8846),J=t(3768),K=new q.f({link:new W.u({uri:"https://rkwz6uvme5dezk6ovh6j3jsd3y.appsync-api.ap-northeast-1.amazonaws.com/graphql",headers:{"X-Api-Key":"da2-zq5xobmrpreszpmfo5km7ufpwy"}}),cache:new F.h}),Q=function(){return(0,r.jsx)(u.gC,{children:(0,r.jsxs)(J.e,{client:K,children:[(0,r.jsx)(c,{}),(0,r.jsx)(G,{})]})})},Y=function(){return(0,r.jsxs)("div",{children:[(0,r.jsx)(i(),{children:(0,r.jsx)("title",{children:"Todo App - frontend"})}),(0,r.jsx)("main",{children:(0,r.jsx)(Q,{})})]})}}},function(e){e.O(0,[382,774,888,179],(function(){return n=8312,e(e.s=n);var n}));var n=e.O();_N_E=n}]);